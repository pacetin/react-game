(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{24:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(17),i=c.n(s),r=(c(24),c(2)),l=c(5),o=c(9),j=c(3),u=c(0),d=function(){return Object(u.jsx)("nav",{children:Object(u.jsxs)("div",{className:"nav-wrapper blue accent-2 px1",children:[Object(u.jsx)("a",{href:"/react-game/",className:"brand-logo left",children:"MEMORY"}),Object(u.jsxs)("ul",{className:"right",children:[Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{to:"/react-game/",children:"Settings"})}),Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{to:"/react-game/rules",children:"Rules"})}),Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{to:"/react-game/highscore",children:"Highscore"})})]})]})})},b=function(){return Object(u.jsxs)("footer",{className:"page-footer blue accent-2",children:[Object(u.jsx)("div",{className:"logo",children:Object(u.jsx)("a",{href:"https://rs.school/js/",target:"_blank",rel:"noreferrer",children:Object(u.jsx)("img",{src:"/react-game/assets/icons/rs_school_logo.svg",alt:"logo"})})}),Object(u.jsxs)("div",{className:"author",children:[Object(u.jsx)("span",{children:"Created by:"}),Object(u.jsx)("a",{href:"https://github.com/rolling-scopes-school/pacetin-JS2020Q3",target:"_blank",rel:"noreferrer",children:"Palina Cetin"}),Object(u.jsx)("span",{children:", 2020"})]})]})},O=(c(31),function(){return Object(u.jsxs)("div",{className:"rules-container",children:[Object(u.jsx)("h3",{children:"Rules"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"The objective is to collect all pairs of cards."}),Object(u.jsx)("li",{children:"On each turn, a player turns over any two cards and get points if the cards match (for instance, two kings)"}),Object(u.jsx)("li",{children:"When a player turns over two cards that do not match, those cards are turned face down again."}),Object(u.jsx)("li",{children:"The trick is to remember which cards are where."})]}),Object(u.jsx)("h3",{children:"Hotkeys"}),Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Ctrl + Z"})," - go to Settings from Game page"]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Ctrl + C"})," - go to Highscore from Game page"]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Ctrl + V"})," - go to Rules from Game page"]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Ctrl + Enter"})," - start new game"]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("strong",{children:"Shift + Enter"})," - fullscreen mode"]})]})]})}),m=(c(32),function(e){var t=e.score;return Object(u.jsxs)("div",{className:"score-container",children:[Object(u.jsx)("h3",{children:"Highscore"}),Object(u.jsx)("table",{className:"score-table",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Rank"}),Object(u.jsx)("th",{children:"Trials"}),Object(u.jsx)("th",{children:"Size"})]}),t.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:t+1}),Object(u.jsx)("th",{children:e.trials}),Object(u.jsx)("th",{children:e.size})]},t)}))]})})]})}),f=(c(33),function(e){var t=e.addSettings,c=Object(n.useState)(!1),a=Object(l.a)(c,2),s=a[0],i=a[1],r=Object(n.useState)("24"),o=Object(l.a)(r,2),d=o[0],b=o[1],O=Object(n.useState)("nations"),m=Object(l.a)(O,2),f=m[0],h=m[1],g=Object(n.useState)("50"),x=Object(l.a)(g,2),p=x[0],v=x[1],S=Object(n.useState)("50"),N=Object(l.a)(S,2),y=N[0],w=N[1],k=Object(j.f)(),E=Object(n.useRef)(null);Object(n.useEffect)((function(){function e(e){"Enter"===e.key&&e.ctrlKey&&E.current.click()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}));var C=function(e){"size"===e.target.id?b(e.target.value):h(e.target.value)},F=function(e){"sounds"===e.target.id?v(e.target.value):w(e.target.value)};return Object(u.jsxs)("div",{className:"settings",children:[Object(u.jsx)("h3",{children:"Settings"}),Object(u.jsxs)("form",{children:[Object(u.jsx)("label",{children:"Field size"}),Object(u.jsxs)("select",{className:"browser-default",id:"size",value:d,onChange:C,children:[Object(u.jsx)("option",{value:"18",children:"18 cards"}),Object(u.jsx)("option",{value:"24",children:"24 cards"}),Object(u.jsx)("option",{value:"30",children:"30 cards"})]}),Object(u.jsx)("label",{children:"Categories"}),Object(u.jsxs)("select",{className:"browser-default",id:"category",value:f,onChange:C,children:[Object(u.jsx)("option",{value:"nations",children:"Nations"}),Object(u.jsx)("option",{value:"animals",children:"Animals"}),Object(u.jsx)("option",{value:"faces",children:"Faces"})]}),Object(u.jsx)("p",{children:Object(u.jsxs)("label",{htmlFor:"flip",className:"active",children:[Object(u.jsx)("input",{id:"flip",type:"checkbox",checked:s,onChange:function(e){i(e.target.checked)}}),Object(u.jsx)("span",{children:"Flip cards before playing"})]})}),Object(u.jsxs)("p",{className:"range-field",children:[Object(u.jsx)("i",{className:"material-icons",children:"music_note"}),Object(u.jsx)("label",{children:"Sounds"}),Object(u.jsx)("input",{type:"range",id:"sounds",min:"0",max:"100",value:p,onChange:F})]}),Object(u.jsxs)("p",{className:"range-field",children:[Object(u.jsx)("i",{className:"material-icons",children:"volume_up"}),Object(u.jsx)("label",{children:"Music"}),Object(u.jsx)("input",{type:"range",id:"music",min:"0",max:"100",value:y,onChange:F})]}),Object(u.jsxs)("button",{ref:E,className:"btn waves-effect waves-light",type:"submit",name:"action",onClick:function(e){e.preventDefault(),localStorage.removeItem("GameState"),k.push("/react-game/game"),t({size:d,category:f,isPreShow:s,isSounds:p,isMusic:y})},children:["Start new game",Object(u.jsx)("i",{className:"material-icons right",children:"play_circle_outline"})]})]})]})}),h=function(e){var t=e.addSettings;return Object(u.jsx)(f,{addSettings:t})},g=(c(34),function(e){var t=e.card,c=e.onClick,n=["playing-card"];return t.isFlipped&&n.push("flipped"),t.isActive||n.push("inactive"),Object(u.jsxs)("li",{className:n.join(" "),children:[Object(u.jsx)("div",{className:"back",onClick:c.bind(null,t)}),Object(u.jsx)("div",{className:"front",children:Object(u.jsx)("img",{src:t.src,alt:t.id.toString()})})]})}),x={nations:["nations1","nations2","nations3","nations4","nations5","nations6","nations7","nations8","nations9","nations10","nations11","nations12","nations13","nations14","nations15"],faces:["faces1","faces2","faces3","faces4","faces5","faces6","faces7","faces8","faces9","faces10","faces11","faces12","faces13","faces14","faces15"],animals:["animals1","animals2","animals3","animals4","animals5","animals6","animals7","animals8","animals9","animals10","animals11","animals12","animals13","animals14","animals15"]},p="/react-game/assets/sounds/",v=0,S=0,N=function(e,t){var c=x[t].slice(0,Number(e)/2);return function(e){return e.sort((function(){return.5-Math.random()}))}(c.concat(c)).map((function(e,t){return{src:"".concat("/react-game/assets/images/").concat(e,".jpg"),name:e,id:t,isFlipped:!1,isActive:!0}}))},y=function(e){var t=e.size,c=e.category,a=e.isPreShow,s=e.isSounds,i=e.isMusic,o=e.changeStatistic,j=e.showWinModal,d=JSON.parse(localStorage.getItem("GameState")||"{}").statistic;d&&(v=d.wins,S=d.trials);var b=Object(n.useState)((function(){return e.cards||N(t,c)})),O=Object(l.a)(b,2),m=O[0],f=O[1],h=Object(n.useState)(null),x=Object(l.a)(h,2),y=x[0],w=x[1],k=Object(n.useState)(null),E=Object(l.a)(k,2),C=E[0],F=E[1];Object(n.useEffect)((function(){y&&C&&(y.name===C.name?I():J())}),[y,C]),Object(n.useEffect)((function(){if("0"!==i){var e=new Audio;return e.src="".concat(p,"background.mp3"),e.load(),e.play(),e.volume=Number(i)/100,e.loop=!0,function(){e.pause()}}}),[i]),Object(n.useEffect)((function(){if(a){var e=function(){return f((function(e){return e.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{isFlipped:!e.isFlipped})}))}))};e();var t=setTimeout(e,5e3);return function(){clearTimeout(t)}}}),[a]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("GameState")||"{}");localStorage.setItem("GameState",JSON.stringify(Object(r.a)(Object(r.a)({},e),{},{cards:m})))}),[m]);var z=function(e){var t=new Audio;t.src="".concat(p).concat(e),t.volume=Number(s)/100,t.load(),t.play()},I=function(){"0"!==s&&setTimeout((function(){return z("correct.mp3")}),300),v+=1,S+=1,setTimeout((function(){o(v,S)}),300),setTimeout(T,600),v===Number(t)/2&&G()},J=function(){"0"!==s&&setTimeout((function(){return z("error.mp3")}),300),S+=1,setTimeout((function(){o(v,S)}),300),setTimeout(M,600)},G=function(){"0"!==s&&setTimeout((function(){return z("success.mp3")}),600),setTimeout((function(){j(),v=0,S=0}),600)},T=function(){f((function(e){return e.map((function(e){return e.id===y.id||e.id===C.id?Object(r.a)(Object(r.a)({},e),{},{isActive:!e.isActive}):e}))})),_()},M=function(){f((function(e){return e.map((function(e){return e.id===y.id||e.id===C.id?Object(r.a)(Object(r.a)({},e),{},{isFlipped:!e.isFlipped}):e}))})),_()},_=function(){w(null),F(null)},L=function(e){y&&C||(y?F(e):w(e),f((function(t){return t.map((function(t){return t.id===e.id?Object(r.a)(Object(r.a)({},t),{},{isFlipped:!t.isFlipped}):t}))})))};return Object(u.jsx)("div",{className:"cards-container",children:m.map((function(e){return Object(u.jsx)(g,{card:e,onClick:L},e.id)}))})},w=function(e){var t=e.wins,c=e.trials,n=e.size;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"wins",children:[Object(u.jsx)("i",{className:"material-icons small  teal-text text-lighten-1",children:"emoji_events"}),Object(u.jsx)("span",{children:"".concat(t,"/").concat(Number(n)/2)})]}),Object(u.jsxs)("div",{className:"trials",children:[Object(u.jsx)("i",{className:"material-icons small  teal-text text-lighten-1",children:"cached"}),Object(u.jsx)("span",{children:c})]})]})},k=function(e){return(e<10?"0":"")+e.toString()},E=function(e){return e%60},C=function(e){var t,c=e.timer,a=Object(n.useState)(c||0),s=Object(l.a)(a,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){var e=setInterval((function(){o((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[i]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("GameState")||"{}");localStorage.setItem("GameState",JSON.stringify(Object(r.a)(Object(r.a)({},e),{},{timer:i})))}),[i]),Object(u.jsxs)("div",{className:"timer",children:[Object(u.jsx)("i",{className:"material-icons small  teal-text text-lighten-1",children:"timer"}),Object(u.jsxs)("span",{children:[k((t=i,Math.floor(t/60)))," : ",k(E(i))]})]})},F=(c(35),function(e){var t=e.isOpen,c=e.onClick,n=e.trials;return Object(u.jsx)(a.a.Fragment,{children:t&&Object(u.jsx)("div",{className:"modal-window",children:Object(u.jsxs)("div",{className:"modal-body",children:[Object(u.jsx)("h1",{children:"Congratulations!!!"}),Object(u.jsxs)("p",{children:["You could solve this complicated puzzle on",Object(u.jsx)("strong",{children:" ".concat(n," ")}),"downs!"]}),Object(u.jsx)("button",{className:"waves-effect waves-light btn",onClick:function(){return c(n)},children:"Save"})]})})})}),z=function(e){var t=JSON.parse(localStorage.getItem("GameState")||"{}"),c=t.statistic,a=t.cards,s=t.timer;console.log(c,a,s);var i=Object(n.useState)(c||{wins:0,trials:0,size:e.size}),o=Object(l.a)(i,2),d=o[0],b=o[1],O=Object(n.useState)(!1),m=Object(l.a)(O,2),f=m[0],h=m[1],g=Object(j.f)();Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("GameState")||"{}");localStorage.setItem("GameState",JSON.stringify(Object(r.a)(Object(r.a)({},e),{},{statistic:d})))}),[d]),Object(n.useEffect)((function(){function e(e){"Z"!==e.key&&"z"!==e.key||!e.ctrlKey||(e.preventDefault(),g.push("/react-game/")),"C"!==e.key&&"c"!==e.key||!e.ctrlKey||(e.preventDefault(),g.push("/react-game/highscore")),"V"!==e.key&&"v"!==e.key||!e.ctrlKey||(e.preventDefault(),g.push("/react-game/rules"))}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}));var x=function(){h((function(e){return!1}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(F,{isOpen:f,onClick:function(t){x(),e.saveScore(Number(e.size),t),g.push("/react-game/")},trials:d.trials}),Object(u.jsxs)("div",{className:"statistic-container",children:[Object(u.jsx)(C,{timer:s}),Object(u.jsx)(w,Object(r.a)(Object(r.a)({},d),{},{size:e.size}))]}),Object(u.jsx)(y,Object(r.a)(Object(r.a)({},e),{},{cards:a,changeStatistic:function(e,t){b((function(c){return Object(r.a)(Object(r.a)({},c),{},{wins:e,trials:t})}))},showWinModal:function(){h((function(e){return!0}))}}))]})};var I=function(){var e=JSON.parse(localStorage.getItem("GameState")||"{}").settings,t=Object(n.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(e||{size:"24",category:"nations",isPreShow:!1,isSounds:"50",isMusic:"50"}),f=Object(l.a)(i,2),g=f[0],x=f[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("Score")||"[]");s(e)}),[]),Object(n.useEffect)((function(){localStorage.setItem("Score",JSON.stringify(a))}),[a]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("GameState")||"{}");localStorage.setItem("GameState",JSON.stringify(Object(r.a)(Object(r.a)({},e),{},{settings:g})))}),[g]),Object(n.useEffect)((function(){function e(e){"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),document.documentElement.requestFullscreen())}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}));var p=function(e){x(e)},v=function(e,t){var c=JSON.parse(localStorage.getItem("Score")||"[]");c.length<10?(c.push({size:e,trials:t}),c.sort((function(e,t){return e.trials-t.trials}))):c.length>=10&&t<c[c.length-1].trials&&(c.pop(),c.push({size:e,trials:t}),c.sort((function(e,t){return e.trials-t.trials}))),s(c)};return Object(u.jsxs)(o.a,{children:[Object(u.jsx)(d,{}),Object(u.jsx)("main",{children:Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/react-game/",component:function(){return Object(u.jsx)(h,{addSettings:p})},exact:!0}),Object(u.jsx)(j.a,{component:O,path:"/rules",exact:!0}),Object(u.jsx)(j.a,{path:"/react-game/game",exact:!0,component:function(){return Object(u.jsx)(z,Object(r.a)(Object(r.a)({},g),{},{saveScore:v}))}}),Object(u.jsx)(j.a,{path:"/react-game/highscore",component:function(){return Object(u.jsx)(m,{score:a})},exact:!0})]})}),Object(u.jsx)(b,{})]})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,37)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root")),J()}},[[36,1,2]]]);
//# sourceMappingURL=main.d68d8759.chunk.js.map